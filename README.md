Table of Contents
=================

* [Processing Instructions](#processing-instructions)
  * [Install](#install)
  * [API](#api)
    * [pi](#pi)
      * [Options](#options)
    * [exec](#exec)
    * [include](#include)
  * [License](#license)

Processing Instructions
=======================

[<img src="https://travis-ci.org/mkdoc/mkpi.svg?v=3" alt="Build Status">](https://travis-ci.org/mkdoc/mkpi)
[<img src="http://img.shields.io/npm/v/mkpi.svg?v=3" alt="npm version">](https://npmjs.org/package/mkpi)
[<img src="https://coveralls.io/repos/mkdoc/mkpi/badge.svg?branch=master&service=github&v=3" alt="Coverage Status">](https://coveralls.io/github/mkdoc/mkpi?branch=master).

Parses processing instructions in an input AST document and executes the instructions according to a grammar file.

## Install

```
npm i mkpi --save
```

For the command line interface install [mkdoc](https://github.com/mkdoc/mkdoc) globally (`npm i -g mkdoc`).

## API

### pi

```javascript
pi([opts][, cb])
```

Execute processing instructions found in the AST.

Returns an output stream.

* `opts` Object processing options.
* `cb` Function callback function.

#### Options

* `input` Readable=process.stdin input stream.
* `output` Writable=process.stdout output stream.

### exec

```javascript
exec(tag, state, cb)
```

Run an external command.

Newlines are removed from the tag data so a command
may span multiple lines.

* `tag` Object parsed tag data.
* `state` Object processing instruction state.
* `cb` Function callback function.

### include

```javascript
include(tag, state, cb)
```

Include one or more markdown files into the AST, processing instructions
in included files are executed.

```html
<? @include intro.md install.md ?>
```

Include files are resolved relative to the including file when file
data is available (`mkcat file.md`), but when no file data is available,
for example from stdin (`cat file.md | mkcat`), then files are resolved
relative to the current working directory.

* `tag` Object parsed tag data.
* `state` Object processing instruction state.
* `cb` Function callback function.

## License

MIT.

Generated by [mdp(1)](https://github.com/tmpfs/mdp).

[mkdoc]: https://github.com/mkdoc/mkdoc
[node]: http://nodejs.org
[npm]: http://www.npmjs.org
[commonmark]: http://commonmark.org
[jshint]: http://jshint.com
[jscs]: http://jscs.info
